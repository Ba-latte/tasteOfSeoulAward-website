// ë‚´ë¹„ê²Œì´ì…˜ ìœ í˜• 06 : ë°°ë„ˆ ì„¸íŒ… JS - banner.js //

window.addEventListener("DOMContentLoaded", ()=>{
    console.log("ë°°ë„ˆ js - ë¡œë”©ì™„ë£Œ");

    // â­1.ìµœìƒìœ„ ë°°ë„ˆ ë°•ìŠ¤ ëŒ€ìƒ ì„ ì •í•˜ê¸° :.banbx
    const banbx = document.querySelector(".banbx");

    // ë°°ë„ˆ ì„¸íŒ…í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
    setBan(banbx);

    // ë¶ˆë¦¿ í´ë¦­ì‹œ ë°°ë„ˆ ë°”ë€ŒëŠ” í•¨ìˆ˜ í˜¸ì¶œ
    // indicClickFn(banbx);
    setIndicLinkFn(banbx);

}); ///////////////// ë¡œë“œ êµ¬ì—­ ///////////////////////



// ë°°ë„ˆ ì„¸íŒ… í•¨ìˆ˜ //////////////////////////////
function setBan(obj){ // objëŠ” ìµœìƒìœ„ ìš”ì†Œ ê°ì²´! / seqëŠ” ìš”ì†Œ ìˆœë²ˆ!
    // 1.í˜¸ì¶œ í™•ì¸
    // console.log("ë°°ë„ˆì•¼~!");

    // 2.ëŒ€ìƒ ì„ ì • : .bancont
    const bancont = obj.querySelector(".bancont");
    // console.log(bancont);

    // 3.íƒœê·¸ êµ¬ì„±í•˜ê¸°
    // íƒœê·¸ ë³€ìˆ˜
    let hcode = `<ul class="slide">`;
    
    for(let i = 1; i <= 7; i++){
        hcode += `
            <li>
                <img src="../00.ìë£Œìˆ˜ì§‘/02.ì´ë¯¸ì§€ë°ì´í„°/02.ì„œë¸Œí˜ì´ì§€-22ë…„í–‰ì‚¬ë°ì£¼ìš”í”„ë¡œê·¸ë¨ì†Œê°œì´ë¯¸ì§€/info-rolling-img${i}.jpg" alt="ë°°ë„ˆ ì´ë¯¸ì§€">
            </li>
        `;

    } ///////////////////// forë¬¸ ë ///////////////////////////////

    
    hcode += `</ul>`;
    // console.log(hcode);

    // 4.bancontì— ì¶œë ¥í•˜ê¸°
    bancont.innerHTML = hcode;


    ////////// [ âœ¨âœ¨ìŠ¬ë¼ì´ë“œ ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„âœ¨âœ¨ ] /////////////

    // 1. ëŒ€ìƒì„ ì • //////////////////////////
    // 1-1. ì´ë²¤íŠ¸ ëŒ€ìƒ: .abtn
    const abtn = obj.querySelectorAll(".abtn");

    // 1-2. ë³€ê²½ ëŒ€ìƒ: .slide
    const slide = obj.querySelector(".slide");

    // 1-3. ë¸”ë¦¿ ëŒ€ìƒ: .indic li
    // console.log(indic);

    // 1-4. ìŠ¬ë¼ì´ë“œ lië¦¬ìŠ¤íŠ¸
    let slist = obj.querySelectorAll(".slide>li");

    // ğŸŒˆë“œë˜ê·¸ í•¨ìˆ˜ í˜¸ì¶œğŸŒˆ
    // dragFn(slide);

    // [ ì´ˆê¸°í™”1 - ìˆœë²ˆë¶™ì´ê¸° ] ///////////////////
    // ì˜ë¼ë‚´ê¸°ë¡œ liìˆœë²ˆì´ ë’¤ì„ì´ë¯€ë¡œ ë¸”ë¦¿ë³€ê²½ ë§¤ì¹­ì„ ìœ„í•œ
    // ê³ ìœ ìˆœë²ˆì„ ì‚¬ìš©ìì •ì˜ ì†ì„±(data-)ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤!
    slist.forEach((ele, idx) => {
        // data-seq ë¼ëŠ” ì‚¬ìš©ìì •ì˜ ì†ì„± ë„£ê¸°
        ele.setAttribute("data-seq", idx);
    }); ////// forEach /////////////////

    // [ ì´ˆê¸°í™”2 - ë§¨ë’¤ìš”ì†Œ ë§¨ì•ìœ¼ë¡œ ì´ë™ 2ë²ˆí•˜ê¸°! ]
    // ë§¨ë’¤ ë§¨ì•ì´ë™ í•¨ìˆ˜ë§Œë“¤ê¸°
    const chgSeq = () => {
        // í˜„ì¬ ìŠ¬ë¼ì´ë“œ li ìƒˆë¡œì½ê¸°(2ë²ˆë°˜ë³µì‹œ liì˜ ìˆœì„œê°€ ë‹¬ë¼ì§€ê¸°ë•Œë¬¸)
        slist = obj.querySelectorAll(".slide>li");
        // ë§¨ë’¤ ë§¨ì•ì´ë™í•˜ê¸° -> ë³€ê²½ëŒ€ìƒ: .slide -> slideë³€ìˆ˜
        slide.insertBefore(slist[slist.length - 1], slist[0]);
        // slide.insertBefore(ë„£ì„ë†ˆ,ë„£ì„ë†ˆì „ë†ˆ)
        // slide.insertBefore(ë§ˆì§€ë§‰ìš”ì†Œ,ì²«ìš”ì†Œ)
        // slide.insertBefore(slist[ê°œìˆ˜-1],slist[0]);
    }; ////////// chgSeqí•¨ìˆ˜ ///////////

    // 2ë²ˆ ë§¨ë’¤ ë§¨ì•ì´ë™ í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°!!!
    for (let i = 0; i < 2; i++) chgSeq();

    // ê´‘í´ê¸ˆì§€ë³€ìˆ˜ : 0 - í—ˆìš©, 1 - ë¶ˆí—ˆìš©
    let prot = 0;

    // 2. ìŠ¬ë¼ì´ë“œ ë³€ê²½í•¨ìˆ˜ ë§Œë“¤ê¸°
    // í˜¸ì¶œì‹œ seqì— ë“¤ì–´ì˜¤ëŠ” ê°’ì¤‘ 1ì€ ì˜¤ë¥¸ìª½, 0ì€ ì™¼ìª½
    const goSlide = (seq) => {
        //  console.log("ìŠ¬ê³ ìš°!", seq);

        //  console.log("ëª»ë“¤ì–´ê°”ì–´!!!!");

        // ê´‘í´ê¸ˆì§€ ì„¤ì •í•˜ê¸° //////
        if (prot) return;
        prot = 1; // ì ê¸ˆ!
        setTimeout(() => {
            prot = 0; // í•´ì œ!
        }, 800); /// 0.4ì´ˆí›„ í•´ì œ! ///

        //  console.log("ë‚˜,ë“¤ì–´ì™”ì–´!!!");

        // 0. í˜„ì¬ì˜ ìŠ¬ë¼ì´ë“œ liìˆ˜ì§‘í•˜ê¸°
        let clist = slide.querySelectorAll("li");
        // clist -> current list í˜„ì¬ ë¦¬ìŠ¤íŠ¸

        // 1. ë°©í–¥ì— ë”°ë¥¸ ë¶„ê¸°
        // 1-1. ì˜¤ë¥¸ìª½ë²„íŠ¼ í´ë¦­ì‹œ ////////////////
        if (seq) {
            console.log("ì˜¤ë¥¸!");

            // 1. ìŠ¬ë¼ì´ë“œ ì´ë™ì „ ë¨¼ì € ì˜ë¼ë‚¸ë‹¤!
            // ì´ìœ : ìŠ¬ë¼ì´ë“œ ìˆœì„œë¥¼ ì™¼ìª½ì´ë™ê³¼ ë™ì¼í•˜ê²Œ í•¨!
            // ì¤‘ì•™í™•ëŒ€ íŠ¸ëœì§€ì…˜ ì ìš©ì‹œ ë™ì‘ì´ ë‹¬ë¼ì§€ë¯€ë¡œ!

            // (1-1) ë°”ê¹¥ì— ë‚˜ê°€ìˆëŠ” ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ
            //       lië¥¼ ì˜ë¼ì„œ ë§¨ë’¤ë¡œ ë³´ë‚¸ë‹¤!
            slide.appendChild(clist[0]);
            // (1-2) ë™ì‹œì— leftê°’ì„ -110%ìœ¼ë¡œ ë³€ê²½í•œë‹¤!
            slide.style.left = "-110%";
            // (1-3) íŠ¸ëœì§€ì…˜ ì—†ì• ê¸°!
            slide.style.transition = "none";

            // (2) ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ì‹œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œê°€
            //     ë‚˜íƒ€ë‚˜ë„ë¡ ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ì˜ leftê°’ì„
            //     -220%ë¡œ ë³€ê²½ì‹œí‚¨ë‹¤.

            // [ì½”ë“œë¶„ë¦¬í•˜ê¸°!] //////////////////////////
            // -> ê°™ì€ì†ì„±ë³€ê²½ì„ ê°™ì€ ë©”ëª¨ë¦¬ê³µê°„ì—ì„œ ìˆ˜í–‰í•˜ë©´
            // ë³€ê²½íš¨ê³¼ê°€ ì—†ìŒ!!!
            setTimeout(() => {
                slide.style.left = "-220%";
                slide.style.transition = "left .8s ease-in-out";
            }, 1); //// íƒ€ì„ì•„ì›ƒ //////
            // ì‹œê°„ì— 0ì„ì“°ë©´ ì¸í„°ë°œí˜¸ì¶œì‹œ íŠ¸ëœì§€ì…˜ì´ ì•ˆë¨¹íˆëŠ” ì—ëŸ¬ê°€ ìˆìŒ
            // 1ë§Œì¨ë„ ê´œì°®ìŒ~

            // -> íƒ€ì´ë°í•¨ìˆ˜ëŠ” ê¸°ì¡´ í•¨ìˆ˜ì¸ ìŠ¤íƒ(Stack)ë©”ëª¨ë¦¬ ê³µê°„ì´ ì•„ë‹Œ
            // ëŒ€ê¸°ì‹¤í–‰ ê³µê°„ì¸ í(Queue)ë©”ëª¨ë¦¬ê³µê°„ì—ì„œ ì‹¤í–‰í•˜ë¯€ë¡œ
            // ì½”ë“œê°€ ë™ì‹œì— ë°”ë€ŒëŠ” ê²ƒì„ ë§‰ì•„ì£¼ê³  ì˜ë„í•œ ëŒ€ë¡œ
            // ì‹œì°¨ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤!
        } //////////// if : ì˜¤ë¥¸ìª½í´ë¦­ì‹œ //////

        // 1-2. ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ //////////////
        else {
            console.log("ì™¼ìª½!");

            // (1) ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ ì´ì „ ìŠ¬ë¼ì´ë“œê°€
            // ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸°ìœ„í•´ ìš°ì„  ë§¨ë’¤ lië¥¼
            // ë§¨ì•ìœ¼ë¡œ ì´ë™í•œë‹¤.
            // slide.insertBefore(ë„£ì„ë†ˆ,ë„£ì„ë†ˆì „ë†ˆ)
            // slide.insertBefore(ë§¨ëli,ë§¨ì•li)
            slide.insertBefore(clist[clist.length - 1], clist[0]);

            // (2) ë™ì‹œì— leftê°’ì„ -330%ë¡œ ë³€ê²½í•œë‹¤.
            slide.style.left = "-330%";
            // ì´ë•Œ íŠ¸ëœì§€ì…˜ì„ ì—†ì•¤ë‹¤(í•œë²ˆì‹¤í–‰í›„ ë¶€í„° ìƒê¸°ë¯€ë¡œ!)
            slide.style.transition = "none";

            // (3) ê·¸ í›„ leftê°’ì„ -220%ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜í•˜ì—¬
            // ìŠ¬ë¼ì´ë“œê°€ ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¨ë‹¤.
            // ë™ì¼ ì†ì„±ì¸ leftê°€ ê°™ì€ ì½”ë”©ì²˜ë¦¬ ê³µê°„ì— ë™ì‹œì—
            // ìˆìœ¼ë¯€ë¡œ ì´ê²ƒì„ ë¶„ë¦¬í•´ì•¼ íš¨ê³¼ê°€ ìˆë‹¤!
            // setTimeoutì„ ì‚¬ìš©í•œë‹¤!
            setTimeout(() => {
                slide.style.left = "-220%";
                slide.style.transition = "left .8s ease-in-out";
            }, 0); ////// íƒ€ì„ì•„ì›ƒ /////////
        } //////////// else : ì™¼ìª½í´ë¦­ì‹œ //////

        // 2. í˜„ì¬ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆê³¼ ê°™ì€ ë¸”ë¦¿í‘œì‹œí•˜ê¸°
        // ëŒ€ìƒ: . li -> indicë³€ìˆ˜
        const indic = document.querySelectorAll(".programLnb .indic a");
        // 2-1. í˜„ì¬ ë°°ë„ˆë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸í•˜ê¸°
        clist = slide.querySelectorAll("li");
        // !!!!! ì˜¤ë¥¸ìª½ì´ë“  ì™¼ìª½ì´ë“  ë¨¼ì € ì˜ë¼ë‚´ê¸° ë•Œë¬¸ì—
        // ìˆœë²ˆì€ 3ë²ˆì§¸ë¡œ ì¼ì¹˜í•¨!!!!!!
        // console.log("ë‹¤ì‹œìˆ˜ì§‘:",clist);

        // 2-2.ë°©í–¥ë³„ ì½ì–´ì˜¬ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆìœ¼ë¡œ "data-seq"ê°’ ì½ì–´ì˜¤ê¸°
        // ì„¸ë²ˆì§¸ ìŠ¬ë¼ì´ë“œê°€ ì£¼ì¸ê³µì´ë‹ˆê¹Œ 0,1,2 ì¦‰ 2ë²ˆì„ ì“°ë©´ë¨!!!
        let cseq = clist[2].getAttribute("data-seq");
        // console.log("í˜„ì¬ìˆœë²ˆ:", cseq);

        // 2-3. ë¸”ë¦¿ì´ˆê¸°í™”
        for (let x of indic) x.classList.remove("on");

        // 2-4. ì½ì–´ì˜¨ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆì˜ ë¸”ë¦¿ì— í´ë˜ìŠ¤ "on"ë„£ê¸°
        indic[cseq].classList.add("on");
    }; ////////// goSlideí•¨ìˆ˜ ///////////

    // 3. ì´ë™ë²„íŠ¼ëŒ€ìƒì— ì´ë²¤íŠ¸ ì„¤ì •í•˜ê¸°
    abtn.forEach((ele, idx) => {
        ele.onclick = () => {
            // 0. ê¸°ë³¸ì´ë™ë§‰ê¸°
            event.preventDefault();
            // 1. ì¸í„°ë°œì§€ìš°ê¸°í•¨ìˆ˜ í˜¸ì¶œ!
            // clearAuto();
            // 2. ìŠ¬ë¼ì´ë“œ í•¨ìˆ˜ í˜¸ì¶œ!
            goSlide(idx);
        }; ///// clickí•¨ìˆ˜ //////
    }); /////// forEach //////////

    ////////////////////////////
    // ìë™ë„˜ê¹€ ì„¤ì •í•˜ê¸° ////////

    // ì¼ì •ì‹œê°„ê°„ê²© ë„˜ì–´ê°€ê¸°
    // -> setInterval(í•¨ìˆ˜,ì‹œê°„)

    // [ì¸í„°ë°œí•¨ìˆ˜ì˜ í•¨ìˆ˜ì „ë‹¬ê°’ ì‚¬ìš©ì˜ˆ
    // (íƒ€ì„ì•„ì›ƒí•¨ìˆ˜ë„ ë™ì¼í•¨)]
    // 1. í•¨ìˆ˜ì— ì „ë‹¬ê°’ì´ ì—†ìœ¼ë©´ í•¨ìˆ˜ëª…ë§Œ ì‚¬ìš©ê°€ëŠ¥
    // setInterval(goSlide,3000);
    // 2. ì „ë‹¬ê°’ì´ ìˆë‹¤ë©´ ìµëª…í•¨ìˆ˜êµ¬ì—­ì— ì½”ë”©
    // setInterval(function(){goSlide(1)},3000);
    // 3. í™”ì‚´í‘œí•¨ìˆ˜ì‚¬ìš©ê°€ëŠ¥
    // setInterval(()=>{goSlide(1)},3000);
    // 4. í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œ ì¤‘ê´„í˜¸ ìƒëµê°€ëŠ¥
    // setInterval(()=>goSlide(1),3000);

    // ì¸í„°ë°œí•¨ìˆ˜ ì§€ìš°ê¸°ìœ„í•œ ë³€ìˆ˜
    let autoI;
    // íƒ€ì„ì•„ì›ƒí•¨ìˆ˜ ì§€ìš°ê¸°ìœ„í•œ ë³€ìˆ˜
    let autoT;

    /************************************ 
        í•¨ìˆ˜ëª…: autoSlide
        ê¸°ëŠ¥: ì¸í„°ë°œí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ë“œí•¨ìˆ˜ í˜¸ì¶œ
    ************************************/
    function autoSlide() {
        console.log("ì¸í„°ë°œì‹œì‘!");
        // ì¸í„°ë°œí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ë“œí•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
        autoI = setInterval(() => goSlide(1), 3000);
    } ////////////// autoSlideí•¨ìˆ˜ //////////

    // ìë™ë„˜ê¹€ ìµœì´ˆí˜¸ì¶œ!
    // autoSlide();

    /************************************ 
        í•¨ìˆ˜ëª…: clearAuto
        ê¸°ëŠ¥: ì¸í„°ë°œí•¨ìˆ˜ë¥¼ ì§€ìš°ê³  ë‹¤ì‹œì…‹íŒ…
   ************************************/
    function clearAuto() {
        console.log("ì¸í„°ë°œë©ˆì¶¤!");
        // 1. ì¸í„°ë°œ ì§€ìš°ê¸°
        clearInterval(autoI);

        // 2. íƒ€ì„ì•„ì›ƒë„ ì§€ìš°ì§€ ì•Šìœ¼ë©´
        // ìŒ“ì—¬ì„œ íƒ€ì„ì•„ì›ƒ ì“°ë‚˜ë¯¸ì‹¤í–‰ì´ ë°œìƒí•œë‹¤!
        clearTimeout(autoT);

        // 3. ì ì‹œí›„ ë‹¤ì‹œ ì‘ë™í•˜ë„ë¡ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ
        // ì¸í„°ë°œí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤!
        // 5ì´ˆí›„(ì¸í„°ë°œì€ 3ì´ˆí›„, í† íƒˆ 8ì´ˆí›„ ì‘ë™ì‹œì‘)
        autoT = setTimeout(autoSlide, 5000);
    } ///////// clearAuto í•¨ìˆ˜ /////////////

    
} //////////////// setBan í•¨ìˆ˜ ë ///////////////

// ğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆdata-seqì™€ indicì˜ idxì™€ ë™ì¼í•˜ë‹ˆê¹Œ ê·¸ê±¸ë¡œ ì—°ê²°ì‹œí‚¤ë©´ ë˜ì§€ ì•Šì„ê¹Œ?ğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆ
function setIndicLinkFn(obj){
    const slide = obj.querySelector(".slide");
    const indic = document.querySelectorAll(".programLnb .indic a");
    let iseq = 0;
    // console.log(indic);

    // console.log(clist);
    
    indic.forEach((ele, idx)=>{
        
        ele.addEventListener("click", ()=>{
            let clist = slide.querySelectorAll("li");

            // 1.í´ë¦­ëœ ìˆœë²ˆ
            let click_seq = idx;
            // 2.í˜„ì¬ ìˆœë²ˆ - iseq
            // 3.ìˆœë²ˆì°¨ì´ : í´ë¦­ëœ ìˆœë²ˆ - í˜„ì¬ ìˆœë²ˆ
            let diff = click_seq - iseq;
            // ì ˆëŒ€ê°’ìœ¼ë¡œ ë§Œë“¤ê¸°
            let pure = Math.abs(diff);

            console.log("í´ë¦­ëœìˆœë²ˆ: ", click_seq);
            console.log("í˜„ì¬ìˆœë²ˆ", iseq);
            console.log("ìˆœë²ˆì°¨: ", diff);
            console.log("ìˆœìˆ˜í•œ ì°¨ì´ê°’: ", pure);


            slide.appendChild(clist[0]);
            slide.style.left = "-110%";
            // slide.style.left = (-110 * diff)+"%";
            slide.style.transition = "none";
            
            setTimeout(() => {
                slide.style.left = "-220%";
                // slide.style.left = (-220 * diff)+"%";
                slide.style.transition = "left .8s ease-in-out";
            }, 1); //// íƒ€ì„ì•„ì›ƒ //////

        }); ////////////////// click ///////////////////////

    }); ////////////////// forEach ///////////////////////
} /////////////////////////////// setIndicLinkFn í•¨ìˆ˜ ë ////////////////////////////////


/***************************************************
    [ ë¶ˆë¦¿ í´ë¦­ ì´ë™ êµ¬í˜„í•˜ê¸° ]
1.ì˜¤ë¥¸ìª½ ì´ë™ì‹œ : í˜„ì¬ ë¶ˆë¦¿ë³´ë‹¤ ì˜¤ë¥¸ìª½ í´ë¦­ì‹œ
    1)ê¸°ë³¸í˜• : ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ êµ¬í˜„
    2)ìœ í˜• : ë¨¼ì € ì´ë™ í›„ ë§¨ ì•ìš”ì†Œ ë§¨ë’¤ë¡œ ë³´ë‚´ê¸°
    3)ì›ë¦¬ : ì°¨ì´ìˆ˜ë§Œí¼ %ì´ë™ í›„ forë¬¸ìœ¼ë¡œ ì˜ë¼ì„œ ìˆœì„œëŒ€ë¡œ ë§¨ë’¤ë¡œ ì´ë™

2.ì™¼ìª½ ì´ë™ì‹œ : í˜„ì¬ ë¶ˆë¦¿ë³´ë‹¤ ì™¼ìª½ í´ë¦­ì‹œ
    1)ê¸°ë³¸í˜• : ì™¼ìª½ ë²„íŠ¼ í´ë¦­ê¸°ëŠ¥ êµ¬í˜„
    2)ìœ í˜• : ë¨¼ì € ë§¨ ë’¤ì— ìˆëŠ” ìš”ì†Œë¥¼ ë§¨ì•ìœ¼ë¡œ ì´ë™ í›„ ë“¤ì–´ì˜¤ê¸°
    3)ì›ë¦¬ : ì°¨ì´ìˆ˜ë§Œí¼ ì•ì— forë¬¸ìœ¼ë¡œ ìŒ“ì€ í›„, ì´ë™í•˜ê¸°

3.ë°©í–¥êµ¬ë¶„ì˜ ê¸°ì¤€ : í´ë¦­ëœ ë¶ˆë¦¿ ìˆœë²ˆ - í˜„ì¬ ë¶ˆë¦¿ ìˆœë²ˆ
    1)ì–‘ìˆ˜ê°€ ë‚˜ì˜¬ ê²½ìš° : ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
    2)ìŒìˆ˜ê°€ ë‚˜ì˜¬ ê²½ìš° : ì™¼ìª½ìœ¼ë¡œ ì´ë™

***************************************************/

// ëŒ€ìƒ : .indic li -> indicë³€ìˆ˜
// ì´ë²¤íŠ¸ : í´ë¦­ ì´ë²¤íŠ¸
// ìˆœë²ˆì„ ë‹´ì„ ë³€ìˆ˜ ë§Œë“¤ê¸° : ì²˜ìŒì—” ë¬´ì¡°ê±´ ë§¨ ì²˜ìŒìŠ¬ë¼ì´ë“œê°€ ë³´ì´ë‹ˆê¹Œ, ë§¨ ì²˜ìŒ ìŠ¬ë¼ì´ë“œì˜ ì¸ë±ìŠ¤ë²ˆí˜¸ëŠ” 0ì„
// í´ë˜ìŠ¤ë¦¬ìŠ¤íŠ¸.ì»¨í…Œì¸ìŠ¤"on"ìœ¼ë¡œ ë¬´ì¡°ê±´ ì°¾ì„ í•„ìš” ì—†ìŒ1 ìš”ê¸°ì„œëŠ” ë§¨ì²˜ìŒì— ì˜¨ì´ ë“¤ì–´ê°„ liê°€ ë­”ì§€ ì•„ë‹ˆê¹Œ
// =>> í•¨ìˆ˜ ë°”ê¹¥ì— ë³€ìˆ˜ë¥¼ ë§Œë“  ì´ìœ  : ê³µìš©ìœ¼ë¡œ... í•¨ìˆ˜ë‚´ì—ì„œ ë°”ë€ŒëŠ” ê·¸ëŸ° ë‚´ìš©ë“¤ì´ ë°”ë¡œë°”ë¡œ ì—…ë°ì´íŠ¸ë¼ì„œ ì ìš©ë˜ëŠ”ê±°..í™•ì¸ìš©..??


function indicClickFn(obj) {
    const indic = document.querySelectorAll(".programLnb .indic a");
    const slide = obj.querySelector(".slide");
    // console.log(indic);

    indic.forEach((ele, idx)=>{
        ele.addEventListener("click", ()=>{
            // 1.í´ë¦­ëœ ìˆœë²ˆ
            let click_seq = idx;
            // 2.í˜„ì¬ ìˆœë²ˆ - iseq
            // 3.ìˆœë²ˆì°¨ì´ : í´ë¦­ëœ ìˆœë²ˆ - í˜„ì¬ ìˆœë²ˆ
            let diff = click_seq - iseq;
            // ì ˆëŒ€ê°’ìœ¼ë¡œ ë§Œë“¤ê¸°
            let pure = Math.abs(diff);

            console.log("í´ë¦­ëœìˆœë²ˆ: ", click_seq);
            console.log("í˜„ì¬ìˆœë²ˆ", iseq);
            console.log("ìˆœë²ˆì°¨: ", diff);
            console.log("ìˆœìˆ˜í•œ ì°¨ì´ê°’: ", pure);

            // 4.ë°©í–¥ë³„ ìŠ¬ë¼ì´ë“œ ì´ë™í•˜ê¸°
            // 4-1.ì–‘ìˆ˜ = ì˜¤ë¥¸ìª½ ì´ë™ ///////////////////
            if(diff > 0){
                // (1) ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ì‹œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œê°€ ë‚˜íƒ€ë‚˜ë„ë¡ ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ì˜ leftê°’ì„ (-100% * ì ˆëŒ€ê°’)ìœ¼ë¡œ ë³€ê²½í•˜ê¸°
                slide.style.left = -100 * pure + "%";
                slide.style.transition = "left .8s ease-in-out";

                // (2) ìŠ¬ë¼ì´ë“œ ì´ë™ í›„ (=0.8ì´ˆ í›„) ì‘ë™í•  íƒ€ì„ì•„ì›ƒ
                setTimeout(() => {
                    // forë¬¸ìœ¼ë¡œ ìë¥¼ ìˆ˜(ì ˆëŒ€ê°’)ë§Œí¼ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ê¸°
                    // ê³„ì‚°ë˜ëŠ” ì°¨ì´ìˆ˜ : 1ì”© ê°ì†Œí•˜ì—¬ leftê°’ì— ê³„ì‚° ì‹œí‚¤ë©´ ë¨
                    let temp = pure;

                    for(let i = 0; i < pure; i++){
                        temp--;

                        // (2-1) ë°”ê¹¥ì— ë‚˜ê°€ìˆëŠ” ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ lië¥¼ ì˜ë¼ì„œ ë§¨ ë’¤ë¡œ ë³´ë‚´ê¸°
                        slide.appendChild(slide.querySelectorAll("li")[0]);
                        // (2-2) ë™ì‹œì— leftê°’ì„ 0ìœ¼ë¡œ ë³€ê²½í•´ì„œ ì˜ë¼ë‚¸ê±° ëì—ë‹¤ê°€ ë¶™ì´ê¸°
                        slide.style.left = -100 * temp + "%";
                        // (2-3) íŠ¸ëœì§€ì…˜ ì—†ì• ê¸°
                        slide.style.transition = "none";
                    } //////////////////// forë¬¸ //////////////////////
                }, 800); //////////////// setTimeout ///////////////////
            } /////////////////////// if : ì˜¤ë¥¸ìª½ ì´ë™í•˜ëŠ” ê²½ìš° ///////////////////////////
            
            // 4-2. ìŒìˆ˜ë©´ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ê¸°
            else if (diff < 0) {
                // (1) ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ ì´ì „ ìŠ¬ë¼ì´ë“œê°€ ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸° ìœ„í•´ ìš°ì„  ë§¨ë’¤ì˜ lië¥¼ ë§¨ ì•ìœ¼ë¡œ ì´ë™ì‹œí‚¤ê¸°
                
                for(let i = 0; i < pure; i++){
                    // ì´ë™í•  ë¦¬ìŠ¤íŠ¸ ë³€ìˆ˜
                    let clist = slide.querySelectorAll("li");

                    // (2) ë™ì‹œì— leftê°’ì„ -100%ë¡œ ë³€ê²½í•˜ê¸° (iê°’ì´ 0ë¶€í„° ë°˜ë³µíšŸìˆ˜ë§Œí¼ ì¦ê°€í•˜ë¯€ë¡œ ì´ê±¸ ì´ìš©í•¨)
                    slide.style.left = ((i+1) * -100) + "%";

                    slide.insertBefore(clist[clist.length - 1], clist[0]);
                } ///////////////// forë¬¸ ///////////////////

                slide.style.transition = "none";

                // (3) ê·¸ í›„ leftê°’ì„ 0ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜í•˜ì—¬ ìŠ¬ë¼ì´ë“œê°€ ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¤ê²Œ ë§Œë“¦
                // ->> ì‹œê°„ì°¨ ì£¼ê³  ë¶„ë¦¬í•˜ê¸°
                setTimeout(() => {
                    slide.style.left = "0";
                    slide.style.transition = "left .8s ease-in-out";
                }, 1); ///////////////// setTimeout //////////////////////////////
            } ///////////////////// else if : ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš° ////////////////////////////
            // 4-3. 0ì´ë©´ ë‚˜ê°€ê²Œ ë§Œë“¤ê¸°
            else{return;}

            // 5. í˜„ì¬ ë³€ê²½ ë¶ˆë¦¿ ì´ˆê¸°í™”í•˜ê¸°
            indic[iseq].classList.remove("on");

            // 6. í´ë¦­ëœ ìˆœë²ˆìœ¼ë¡œ í˜„ì¬ ìˆœë²ˆì„ ë³€ê²½í•˜ê¸°
            iseq = click_seq;

            // 7. í´ë¦­ëœ ë¶ˆë¦¿ì— onë„£ê¸°
            indic[iseq].classList.add("on");


        }); //////////////////// click ///////////////////////
    }); //////////////// forEach ////////////////////
} /////////////////////////////// indicClickFn í•¨ìˆ˜ ë ///////////////////////////////











/*****************************************
    í•¨ìˆ˜ëª… : dragFn
    ê¸°ëŠ¥ : ë‹¤ì¤‘ ë“œë˜ê·¸ ê¸°ëŠ¥ ì ìš©
*****************************************/
function dragFn(obj) {
    console.log("ë“œë˜ê·¸!");

    // ë“œë˜ê·¸ ìƒíƒœ ë³€ìˆ˜ - true:ë“œë˜ê·¸ ì¤‘ / false:ë“œë˜ê·¸ ì•ˆí•¨
    let drag = false;
    // ì²«ë²ˆì§¸ ìœ„ì¹˜ í¬ì¸íŠ¸ : first x, first y
    let firstX, firstY;
    // ë§ˆì§€ë§‰ ìœ„ì¹˜ í¬ì¸íŠ¸ : last x, last y -> ë§¨ ì²˜ìŒì—ëŠ” ë§ˆì§€ë§‰ ìœ„ì¹˜ í¬ì¸íŠ¸ê°€ ì—†ìœ¼ë¯€ë¡œ 0ì´ë¼ í•´ì¤˜ì•¼ í•¨

    // ìŠ¬ë¼ì´ë“œì˜ ì²˜ìŒ leftê°’ ì„¸íŒ…í•˜ê¸°
    let leftX = obj.offsetLeft;
    let leftY = 0;

    // ì›€ì§ì¼ ë•Œ ìœ„ì¹˜ í¬ì¸íŠ¸ move x, move y
    let moveX, moveY;
    // ìœ„ì¹˜ ì´ë™í•œ ì°¨ì´ê°’ì„ ì €ì¥í•  ë³€ìˆ˜ result x, result y
    let resultX, resultY;

    // í•¨ìˆ˜ ë§Œë“¤ê¸°
    // (1)ë“œë˜ê·¸ ìƒíƒœê°€ trueì¸ ë³€ìˆ˜
    const dragT = () => {
        drag = true;
    };
    // (2)ë“œë˜ê·¸ ìƒíƒœê°€ falseì¸ ë³€ìˆ˜
    const dragF = () => {
        drag = false;
    };
    // (3)ë“œë˜ê·¸ ì‘ë™í•  ë•Œì˜ ì‘ë™ í•¨ìˆ˜
    const dragMove = () => {
    // console.log("ë“œë˜ê·¸ ìƒíƒœ", drag);

    // ë“œë˜ê·¸ ìƒíƒœì¼ë•Œë§Œ ì‹¤í–‰í•˜ê¸°
    if (drag) {
        console.log("ì™œì•ˆë¼ã… ");
        // íŠ¸ëœì§€ì…˜ ì—†ì• ê¸°
        obj.style.transition = "none";

        // 1.ë“œë˜ê·¸í•œ ìƒíƒœì—ì„œ ì›€ì§ì¼ ë•Œì˜ ìœ„ì¹˜ê°’ : moveX,Y
        moveX = event.pageX;
        moveY = event.pageY;

        // 2.ì›€ì§ì¼ ë•Œì˜ ìœ„ì¹˜ê°’ - ì²˜ìŒìœ„ì¹˜ê°’ = resultX,Yì— ë‹´ê¸°
        resultX = moveX - firstX;
        resultY = moveY - firstY;

        // 3.ì›€ì§ì¸ x,yê°’ì„ íƒ€ê²Ÿ ìš”ì†Œì— ì ìš©í•˜ê¸°
        obj.style.left = resultX + leftX + "px";
    } //////////////////// if : ë“œë˜ê·¸ /////////////////////////
    };
    // (4)ì²«ë²ˆì§¸ ìœ„ì¹˜ í¬ì¸íŠ¸ ì„¸íŒ…í•˜ëŠ” í•¨ìˆ˜ : ì²˜ìŒ ì°ì—ˆì„ ë•Œ ì‘ë™í•˜ëŠ” ê²ƒ
    const firstPoint = () => {
        firstX = event.pageX;
        firstY = event.pageY;
    };
    // (5)ë§ˆì§€ë§‰ ìœ„ì¹˜ í¬ì¸íŠ¸ ì„¸íŒ…í•˜ëŠ” í•¨ìˆ˜ : í´ë¦­ë²„íŠ¼ì—ì„œ ì† ë—„ ë•Œ ì‘ë™í•˜ëŠ” ê²ƒ!
    const lastPoint = () => {
        leftX += resultX;
        leftY += resultY;
    };
    // ìµœì¢… ì´ë™ ê²°ê³¼ê°’ì¸ resultX,Yê°’ì„ í•­ìƒ ëŒ€ì…ì—°ì‚°í•´ì„œ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ì¤˜ì•¼í•¨!!!!

    // ì´ë²¤íŠ¸ ë“±ë¡í•˜ê¸°
    // 1.ë§ˆìš°ìŠ¤ ë‚´ë ¤ê°ˆë•Œ : ë“œë˜ê·¸ true + ì²«ë²ˆì¨° ìœ„ì¹˜ê°’ ì—…ë°ì´íŠ¸í•˜ê¸°
    obj.addEventListener("mousedown", () => {
        // ë“œë˜ê·¸ true
        dragT();
        // ì²«ë²ˆì§¸ ìœ„ì¹˜ê°’ ì—…ë°ì´íŠ¸
        firstPoint();

        // event.preventDefault();
    });
    // 2.ë§ˆìš°ìŠ¤ ì˜¬ë¼ì˜¬ ë•Œ : ë“œë˜ê·¸ false + ë§ˆì§€ë§‰ ìœ„ì¹˜ê°’ ì—…ë°ì´íŠ¸í•˜ê¸°
    obj.addEventListener("mouseup", () => {
        // ë“œë˜ê·¸ false
        dragF();

        // ë“œë˜ê·¸ ì´ë™ë°©í–¥ íŒë³„í•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
        whereDrag(obj);
    });

    // 3.ë§ˆìš°ìŠ¤ ì›€ì§ì¼ ë•Œ
    obj.addEventListener("mousemove", dragMove);
    // 4.ë§ˆìš°ìŠ¤ ë²—ì–´ë‚  ë•Œ
    obj.addEventListener("mouseleave", dragF);


    // í™”ë©´ í¬ê¸° ë³€ê²½í•  ê²½ìš° ë°œìƒí•˜ëŠ” resize ì´ë²¤íŠ¸!
    // í•„ìš”í•œ ê²½ìš°, ì´ ì½”ë“œ ì‹¤í–‰í•˜ê¸°
    window.addEventListener("resize", ()=>{
        leftX = -obj.parentElement.clientWidth * 2.2;
    }); //////////////// resize ì´ë²¤íŠ¸ ë /////////////////


} //////////////////// dragFn í•¨ìˆ˜ /////////////////////////

/************************************************************
    í•¨ìˆ˜ëª… : whereDrag
    ê¸°ëŠ¥ : ë“œë˜ê·¸ì‹œ ì™¼ìª½ìœ¼ë¡œ ê°ˆ ê²ƒì¸ì§€, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°ˆ ê²ƒì¸ì§€ ì´ë™ ë°©í–¥ì„ íŒë³„í•´ì¤€ë‹¤
    í˜¸ì¶œ : ë“œë˜ê·¸ì‹œ mouseup ì´ë²¤íŠ¸ í•¨ìˆ˜ì—ì„œ í˜¸ì¶œí•œë‹¤
************************************************************/
function whereDrag(obj) {
    // 1.í˜„ì¬ ë“œë˜ê·¸ ëŒ€ìƒì˜ left ìœ„ì¹˜ê°’
    let tg_left = obj.offsetLeft;

    // ìœ ë™ì  ì‚¬ì´ì¦ˆ ë³€ê²½ì— ë”°ë¥¸ ìœ„ì¹˜ê°’ êµ¬í•˜ê¸°
    let tg_point = obj.parentElement.clientHeight * 2.2;

    // 3.ë°©í–¥ íŒë³„í•˜ê¸° : íŠ¹ì •ê°’ì„ ë”í•˜ê±°ë‚˜ ë¹¼ê¸°
    // 3-1.ì™¼ìª½ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ê¸° = ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ ê¸°ëŠ¥ê³¼ ë™ì¼í•¨
    if (tg_left < tg_point - 50) {
        console.log("ì™¼ìª½ìœ¼ë¡œ!");
        dragFn(1);
    }
    // 3-2.ì˜¤ë¥¸ìª½ ë°©í–¥ ì´ë™í•˜ê¸° = ì™¼ìª½ ë²„íŠ¼ í´ë¦­ ê¸°ëŠ¥ê³¼ ë™ì¼í•¨
    else if (tg_left > tg_point + 50) {
        console.log("ì˜¤ë¥¸ìª½ìœ¼ë¡œ!");
        dragFn(0);
    } else {
        console.log("ì œìë¦¬ë¡œ!");

        // ê¸°ì¤€ê°’ leftë¡œ ë‹¤ì‹œ ë³´ë‚´ê¸°
        obj.style.left = -tg_point + "px";

        // íŠ¸ëœì§€ì…˜ì„ ì¤˜ì„œ ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ê²Œ ë§Œë“¤ê¸°
        obj.style.transition = "left .2s ease-in-out";
    }
} ////////////////////////////// whereDrag í•¨ìˆ˜ ë ///////////////////////////
